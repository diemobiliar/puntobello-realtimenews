{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../../../src/webparts/realTimeNewsFeed/utils/utils.ts"],"names":[],"mappings":";;;AACA,mCAAkC;AAElC;IAAA;IA8CA,CAAC;IA5CC;;;;;;;;;;;OAWG;IACI,mCAA2B,GAAlC,UAAmC,UAAkB,EAAE,MAAc;QACnE,IAAI,CAAC;YACH,IAAM,gBAAgB,GAAG,OAAO,CAAC,iBAAU,MAAM,QAAK,CAAC,CAAC;YACxD,OAAO,gBAAgB,CAAC,UAAU,CAAC,CAAC;QACtC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC;gBACH,IAAM,aAAa,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAC;gBACnD,OAAO,aAAa,CAAC,UAAU,CAAC,CAAC;YACnC,CAAC;YAAC,OAAO,YAAY,EAAE,CAAC;gBACtB,eAAM,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,sCAAsC,EAAE,YAAY,CAAC,CAAC;gBACjF,OAAO,8CAAuC,MAAM,wBAAqB,CAAC;YAC5E,CAAC;QACH,CAAC;IACH,CAAC;IAED;;;;;;;;;;;OAWG;IACI,sBAAc,GAArB,UAAsB,MAA+B,EAAE,IAAgC;QACrF,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAA,WAAW,IAAI,OAAA,WAAW,CAAC,QAAQ,KAAK,MAAM,CAAC,cAAc,EAA9C,CAA8C,CAAC,CAAC;QACjG,sEAAsE;QACtE,OAAO,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;IACvD,CAAC;IACH,cAAC;AAAD,CAAC,AA9CD,IA8CC;AA9CY,0BAAO","sourcesContent":["import { IChannels2SubscriptionItem, ILanguageRepresentation } from \"../models\";\nimport { Logger } from \"./logger\";\n\nexport class Utility {\n  \n  /**\n   * Retrieves a translated string for the specified locale.\n   * \n   * @param {string} stringName - The name of the string to be translated.\n   * @param {string} locale - The locale to use for the translation (e.g., 'en-US', 'de-DE').\n   * @returns {string} The translated string, or an error message if the translation file is missing.\n   * \n   * @remarks\n   * This method first attempts to load the translation file corresponding to the provided locale.\n   * If the file is not found, it attempts to load a default language file.\n   * If both files are missing, an error is logged, and a fallback error message is returned.\n   */\n  static getStringTranslation4Locale(stringName: string, locale: string): string {\n    try {\n      const translatedString = require(`../loc/${locale}.js`);\n      return translatedString[stringName];\n    } catch (error) {\n      try {\n        const defaultString = require(`../loc/default.js`);\n        return defaultString[stringName];\n      } catch (defaultError) {\n        Logger.getInstance().error('Failed to load default language file', defaultError);\n        return `Error: Missing translation file for ${locale} and default locale`;\n      }\n    }\n  }\n  \n  /**\n   * Retrieves the appropriate channel text for a given locale from a subscription item.\n   * \n   * @param {ILanguageRepresentation} locale - The language representation object containing the language information.\n   * @param {IChannels2SubscriptionItem} item - The subscription item containing channel information.\n   * @returns {string} The channel text corresponding to the specified locale. If the text for the locale is not found,\n   * it returns the text in the first language available in the termstore.\n   * \n   * @remarks\n   * This method searches for the channel text that matches the provided locale. If no match is found, \n   * it defaults to the first available language in the termstore for that channel.\n   */\n  static getChannelText(locale: ILanguageRepresentation, item: IChannels2SubscriptionItem): string {\n    const channel = item.Channel.find(channellang => channellang.Language === locale.LanguageDashed);\n    // Return found text, otherwise default to first language in termstore\n    return channel ? channel.Text : item.Channel[0].Text;\n  }  \n}\n"]}